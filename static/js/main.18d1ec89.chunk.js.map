{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/api.js","components/App.js","index.js"],"names":["Header","className","src","headerLogo","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteBtnClassName","isLiked","likes","some","i","cardLikeBtnClassName","link","name","onClick","onCardClick","type","onCardDelete","onCardLike","length","Main","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","Footer","year","Date","getFullYear","ImagePopup","onClose","PopupWithForm","isOpen","onSubmit","method","action","noValidate","title","children","btnName","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","minLength","maxLength","placeholder","value","onChange","target","id","required","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","cardNameRef","cardLinkRef","onUpdateCards","handleOriginalResponse","res","ok","json","Promise","reject","status","handleError","err","console","log","api","options","this","_url","url","_headers","headers","fetch","then","catch","userName","userInfo","body","JSON","stringify","userAvatar","cardId","authorization","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","undefined","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","getProfileInfo","getInitialCards","initialCards","Provider","changeLikeCardStatus","newCard","newCards","c","handleCardLike","deleteCard","filter","handleCardDelete","data","setProfileInfo","finally","createNewCard","setProfileAvatar","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.18d1ec89.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import headerLogo from \"../images/logo.svg\";\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <img src={headerLogo} alt=\"Логотип\" className=\"header__logo\" />\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\n\r\nfunction Card(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n  const cardDeleteBtnClassName = `element__delete ${\r\n    isOwn ? \"element__delete_shown\" : \"\"\r\n  }`;\r\n\r\n  const isLiked = props.card.likes.some((i) => i._id === currentUser._id);\r\n  const cardLikeBtnClassName = `element__like ${\r\n    isLiked ? \"element__like_active\" : \"\"\r\n  }`;\r\n\r\n  return (\r\n    <div className=\"elements__element element\">\r\n      <img\r\n        src={props.card.link}\r\n        alt={`Фото ${props.card.name}`}\r\n        className=\"element__image\"\r\n        onClick={props.onCardClick}\r\n      />\r\n      <button\r\n        type=\"button\"\r\n        className={cardDeleteBtnClassName}\r\n        onClick={props.onCardDelete}\r\n      ></button>\r\n      <h3 className=\"element__title\">{props.card.name}</h3>\r\n      <div className=\"element__like-container\">\r\n        <button\r\n          type=\"button\"\r\n          className={cardLikeBtnClassName}\r\n          onClick={props.onCardLike}\r\n        ></button>\r\n        <p className=\"element__like-counter\">{props.card.likes.length}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\nimport Card from \"./Card.js\";\r\n\r\nfunction Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"main\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__form\">\r\n          <div\r\n            className=\"profile__image-container\"\r\n            onClick={props.onEditAvatar}\r\n          >\r\n            <img\r\n              src={currentUser.avatar}\r\n              alt=\"Аватар профиля\"\r\n              className=\"profile__image\"\r\n            />\r\n            <div className=\"profile__image-overlay\"></div>\r\n          </div>\r\n          <div className=\"profile__info info\">\r\n            <h1 className=\"info__title\">{currentUser.name}</h1>\r\n            <button\r\n              type=\"button\"\r\n              className=\"info__edit-button\"\r\n              onClick={props.onEditProfile}\r\n            ></button>\r\n            <p className=\"info__subtitle\">{currentUser.about}</p>\r\n          </div>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          className=\"profile__add-button\"\r\n          onClick={props.onAddPlace}\r\n        ></button>\r\n      </section>\r\n\r\n      <section className=\"elements\">\r\n        {props.cards.map((card) => (\r\n          <Card\r\n            card={card}\r\n            onCardClick={() => props.onCardClick(card)}\r\n            onCardLike={() => props.onCardLike(card)}\r\n            onCardDelete={() => props.onCardDelete(card)}\r\n            key={card._id}\r\n          />\r\n        ))}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","function Footer() {\r\n  const year = new Date().getFullYear();\r\n\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__text\">&copy; {year} Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","function ImagePopup(props) {\r\n  return (\r\n    <div\r\n      className={`popup popup-img popup-${props.name} ${\r\n        props.card && `popup_opened`\r\n      }`}\r\n    >\r\n      <div className=\"popup-img__container\">\r\n        <button\r\n          type=\"reset\"\r\n          className=\"popup__reset popup-img__reset\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n        <figure className=\"popup-img__figure\">\r\n          <img\r\n            src={props.card && props.card.link}\r\n            alt={props.card && `Фото ${props.card.name}`}\r\n            className=\"popup-img__image\"\r\n          />\r\n          <figcaption className=\"popup-img__caption\">\r\n            {props.card && props.card.name}\r\n          </figcaption>\r\n        </figure>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","function PopupWithForm(props) {\r\n  return (\r\n    <div\r\n      className={`popup popup-form popup-${props.name} ${\r\n        props.isOpen ? `popup_opened` : ``\r\n      }`}\r\n    >\r\n      <form\r\n        onSubmit={props.onSubmit}\r\n        method=\"get\"\r\n        action=\"index.html\"\r\n        name={props.name}\r\n        className=\"popup-form__container popup-edit__container\"\r\n        noValidate\r\n      >\r\n        <button\r\n          type=\"reset\"\r\n          className={`popup__reset popup-${props.name}__reset`}\r\n          onClick={props.onClose}\r\n        ></button>\r\n        <h2 className=\"popup-form__header\">{props.title}</h2>\r\n        {props.children}\r\n        <button type=\"submit\" className=\"popup-form__submit\">\r\n          {props.btnName}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\n\r\nfunction EditProfilePopup(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [name, setName] = React.useState(\"\");\r\n  const [description, setDescription] = React.useState(\"\");\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeDescription(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    // Передаём значения управляемых компонентов во внешний обработчик\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      onSubmit={handleSubmit}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      name=\"edit\"\r\n      title=\"Редактировать профиль\"\r\n      btnName=\"Сохранить\"\r\n      children={\r\n        <>\r\n          <label className=\"popup-form__field\">\r\n            <input\r\n              name=\"profile-change\"\r\n              type=\"text\"\r\n              minLength=\"2\"\r\n              maxLength=\"40\"\r\n              placeholder=\"Имя\"\r\n              value={name}\r\n              onChange={handleChangeName}\r\n              id=\"profile-name-input\"\r\n              className=\"popup-form__input popup-edit__input_name\"\r\n              required\r\n            />\r\n            <span\r\n              className=\"popup-form__input-error\"\r\n              id=\"profile-name-input-error\"\r\n            ></span>\r\n          </label>\r\n          <label className=\"popup-form__field\">\r\n            <input\r\n              name=\"profile-change\"\r\n              type=\"text\"\r\n              minLength=\"2\"\r\n              maxLength=\"200\"\r\n              placeholder=\"Профессия\"\r\n              value={description}\r\n              onChange={handleChangeDescription}\r\n              id=\"profile-job-input\"\r\n              className=\"popup-form__input popup-edit__input_job\"\r\n              required\r\n            />\r\n            <span\r\n              className=\"popup-form__input-error\"\r\n              id=\"profile-job-input-error\"\r\n            ></span>\r\n          </label>\r\n        </>\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const avatarRef = React.useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onUpdateAvatar(avatarRef.current.value);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      onSubmit={handleSubmit}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      name=\"edit-avatar\"\r\n      title=\"Обновить аватар\"\r\n      btnName=\"Сохранить\"\r\n      children={\r\n        <>\r\n          <label className=\"popup-form__field\">\r\n            <input\r\n              name=\"profile-avatar-change\"\r\n              type=\"url\"\r\n              ref={avatarRef}\r\n              placeholder=\"Ссылка\"\r\n              id=\"url-input\"\r\n              className=\"popup-form__input popup-edit-avatar__input\"\r\n              required\r\n            />\r\n            <span\r\n              className=\"popup-form__input-error\"\r\n              id=\"url-input-error\"\r\n            ></span>\r\n          </label>\r\n        </>\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup(props) {\r\n  const cardNameRef = React.useRef();\r\n  const cardLinkRef = React.useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onUpdateCards(cardNameRef.current.value, cardLinkRef.current.value);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      onSubmit={handleSubmit}\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      name=\"add\"\r\n      title=\"Новое место\"\r\n      btnName=\"Создать\"\r\n      children={\r\n        <>\r\n          <label className=\"popup-form__field\">\r\n            <input\r\n              name=\"card-add\"\r\n              type=\"text\"\r\n              ref={cardNameRef}\r\n              minLength=\"2\"\r\n              maxLength=\"30\"\r\n              placeholder=\"Название\"\r\n              id=\"card-title-input\"\r\n              className=\"popup-form__input popup-add__input_title\"\r\n              required\r\n            />\r\n            <span\r\n              className=\"popup-form__input-error\"\r\n              id=\"card-title-input-error\"\r\n            ></span>\r\n          </label>\r\n          <label className=\"popup-form__field\">\r\n            <input\r\n              name=\"card-add\"\r\n              type=\"url\"\r\n              ref={cardLinkRef}\r\n              placeholder=\"Ссылка на картинку\"\r\n              id=\"card-url-input\"\r\n              className=\"popup-form__input popup-add__input_url\"\r\n              required\r\n            />\r\n            <span\r\n              className=\"popup-form__input-error\"\r\n              id=\"card-url-input-error\"\r\n            ></span>\r\n          </label>\r\n        </>\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","const handleOriginalResponse = (res) => {\r\n  if (res.ok) {\r\n    return res.json();\r\n  }\r\n\r\n  return Promise.reject(`Ошибка: ${res.status}`);\r\n};\r\n\r\nconst handleError = (err) => {\r\n  console.log(err);\r\n};\r\n\r\nclass Api {\r\n  constructor(options) {\r\n    this._url = options.url;\r\n    this._headers = options.headers;\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._url}/cards`, {\r\n      //карточки\r\n      method: \"GET\",\r\n      headers: this._headers,\r\n    })\r\n      .then(handleOriginalResponse)\r\n      .catch(handleError);\r\n  }\r\n\r\n  getProfileInfo() {\r\n    return fetch(`${this._url}/users/me`, {\r\n      headers: this._headers,\r\n    })\r\n      .then(handleOriginalResponse)\r\n      .catch(handleError);\r\n  }\r\n\r\n  setProfileInfo(userName, userInfo) {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: userName,\r\n        about: userInfo,\r\n      }),\r\n    })\r\n      .then(handleOriginalResponse)\r\n      .catch(handleError);\r\n  }\r\n\r\n  setProfileAvatar(userAvatar) {\r\n    return fetch(`${this._url}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: userAvatar,\r\n      }),\r\n    })\r\n      .then(handleOriginalResponse)\r\n      .catch(handleError);\r\n  }\r\n\r\n  createNewCard(name, link) {\r\n    return fetch(`${this._url}/cards`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: name,\r\n        link: link,\r\n      }),\r\n    })\r\n      .then(handleOriginalResponse)\r\n      .catch(handleError);\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._url}/cards/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    })\r\n      .then(handleOriginalResponse)\r\n      .catch(handleError);\r\n  }\r\n\r\n  changeLikeCardStatus(cardId, isLiked) {\r\n    if (isLiked) {\r\n      return fetch(`${this._url}/cards/likes/${cardId}`, {\r\n        method: \"PUT\",\r\n        headers: this._headers,\r\n      })\r\n        .then(handleOriginalResponse)\r\n        .catch(handleError);\r\n    } else {\r\n      return fetch(`${this._url}/cards/likes/${cardId}`, {\r\n        method: \"DELETE\",\r\n        headers: this._headers,\r\n      })\r\n        .then(handleOriginalResponse)\r\n        .catch(handleError);\r\n    }\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  url: \"https://mesto.nomoreparties.co/v1/cohort-17\",\r\n  headers: {\r\n    authorization: \"0f98b9d9-de6c-47c4-8011-fc8d2aa2d9ac\",\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\nexport default api;\r\n","import React from \"react\";\r\nimport Header from \"./Header.js\";\r\nimport Main from \"./Main.js\";\r\nimport Footer from \"./Footer.js\";\r\nimport ImagePopup from \"./ImagePopup.js\";\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport api from \"../utils/api\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(\r\n    false\r\n  );\r\n  const handleEditProfileClick = () =>\r\n    setIsEditProfilePopupOpen(!isEditProfilePopupOpen);\r\n\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const handleAddPlaceClick = () =>\r\n    setIsAddPlacePopupOpen(!isAddPlacePopupOpen);\r\n\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(\r\n    false\r\n  );\r\n  const handleEditAvatarClick = () =>\r\n    setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen);\r\n\r\n  const [selectedCard, setSelectedCard] = React.useState(undefined);\r\n  const handleCardClick = (card) => setSelectedCard(card);\r\n\r\n  const [currentUser, setCurrentUser] = React.useState({\r\n    name: \"\",\r\n    about: \"\",\r\n    avatar: \"\",\r\n  });\r\n  const [cards, setCards] = React.useState([]);\r\n\r\n  const closeAllPopups = () => {\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setSelectedCard(undefined);\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    api.getProfileInfo().then((userInfo) => {\r\n      setCurrentUser(userInfo);\r\n    });\r\n  }, []);\r\n\r\n  function handleUpdateUser(data) {\r\n    api\r\n      .setProfileInfo(data.name, data.about)\r\n      .then((userInfo) => {\r\n        setCurrentUser(userInfo);\r\n      })\r\n      .finally(() => {\r\n        closeAllPopups();\r\n      });\r\n  }\r\n\r\n  function handleUpdateAvatar(avatar) {\r\n    api\r\n      .setProfileAvatar(avatar)\r\n      .then((userAvatar) => {\r\n        setCurrentUser(userAvatar);\r\n      })\r\n      .finally(() => {\r\n        closeAllPopups();\r\n      });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    api.getInitialCards().then((initialCards) => {\r\n      setCards(initialCards);\r\n    });\r\n  }, []);\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n\r\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\r\n      const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\r\n      setCards(newCards);\r\n    });\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api.deleteCard(card._id).then(() => {\r\n      const newCards = cards.filter((c) => c._id !== card._id);\r\n      setCards(newCards);\r\n    });\r\n  }\r\n\r\n  function handleAddPlaceSubmit(name, link) {\r\n    api\r\n      .createNewCard(name, link)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n      })\r\n      .finally(() => {\r\n        closeAllPopups();\r\n      });\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <Header />\r\n        <Main\r\n          onEditProfile={handleEditProfileClick}\r\n          onAddPlace={handleAddPlaceClick}\r\n          onEditAvatar={handleEditAvatarClick}\r\n          onCardClick={handleCardClick}\r\n          cards={cards}\r\n          onCardLike={(card) => handleCardLike(card)}\r\n          onCardDelete={(card) => handleCardDelete(card)}\r\n        />\r\n        <Footer />\r\n\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateUser={handleUpdateUser}\r\n        />\r\n\r\n        <AddPlacePopup\r\n          isOpen={isAddPlacePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateCards={handleAddPlaceSubmit}\r\n        />\r\n\r\n        <EditAvatarPopup\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n        />\r\n\r\n        <ImagePopup onClose={closeAllPopups} card={selectedCard} />\r\n\r\n        <PopupWithForm name=\"delete\" title=\"Вы уверены?\" btnName=\"Да\" />\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}